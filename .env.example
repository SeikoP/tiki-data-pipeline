# =============================================================================
# TIKI DATA PIPELINE - ENVIRONMENT VARIABLES
# =============================================================================
# Copy this file to .env and update the values as needed
# NEVER commit .env file to git (already in .gitignore)
# =============================================================================

# =============================================================================
# AIRFLOW CONFIGURATION
# =============================================================================
# User ID for Airflow container (default: 50000)
AIRFLOW_UID=50000

# Airflow project directory (default: current directory)
AIRFLOW_PROJ_DIR=.

# Custom Docker image name (optional)
# AIRFLOW_IMAGE_NAME=tiki-airflow:3.1.2

# =============================================================================
# AIRFLOW AUTHENTICATION
# =============================================================================
# Username for Airflow Web UI (default: admin)
_AIRFLOW_WWW_USER_USERNAME=admin

# Password for Airflow Web UI (CHANGE THIS IN PRODUCTION!)
# Default: airflow (for development only)
_AIRFLOW_WWW_USER_PASSWORD=airflow

# JWT Secret for API authentication (must be same across all components)
# Generate: openssl rand -hex 32
# Default: default_jwt_secret_change_in_production (CHANGE THIS IN PRODUCTION!)
_AIRFLOW__API_AUTH__JWT_SECRET=default_jwt_secret_change_in_production

# Fernet Key for Variable/Connection encryption (must be consistent across rebuilds)
# Generate: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
# Or use: python scripts/generate_fernet_key.py
# If not set, Airflow will generate one but it won't persist across restarts
# AIRFLOW__CORE__FERNET_KEY=

# =============================================================================
# POSTGRESQL DATABASE
# =============================================================================
# PostgreSQL user (CHANGE THIS IN PRODUCTION!)
POSTGRES_USER=postgres

# PostgreSQL password (CHANGE THIS IN PRODUCTION!)
POSTGRES_PASSWORD=postgres

# PostgreSQL database name (default: crawl_data)
POSTGRES_DB=crawl_data

# =============================================================================
# REDIS (Optional - for caching)
# =============================================================================
# Redis password (optional, leave empty if not using password)
# REDIS_PASSWORD=

# =============================================================================
# TIKI CRAWLING CONFIGURATION (Optional)
# =============================================================================
# Root categories to crawl (comma-separated URLs)
# Example: TIKI_ROOT_CATEGORIES=https://tiki.vn/thoi-trang-nam/c915,https://tiki.vn/nha-cua-doi-song/c1883
# Or create data/raw/root_categories.json file with list of URLs
# TIKI_ROOT_CATEGORIES=

# Maximum category level to crawl (default: 4)
# TIKI_MAX_CATEGORY_LEVEL=4

# Maximum workers for parallel crawling (default: 3)
# TIKI_CRAWL_MAX_WORKERS=3

# =============================================================================
# ADDITIONAL CONFIGURATION (Optional)
# =============================================================================
# Additional Python packages to install (comma-separated)
# _PIP_ADDITIONAL_REQUIREMENTS=

# =============================================================================
# NOTES
# =============================================================================
# 1. For production, change all default passwords and secrets
# 2. Generate Fernet key: python scripts/generate_fernet_key.py
# 3. Generate JWT secret: openssl rand -hex 32
# 4. Root categories can be configured via:
#    - Environment variable: TIKI_ROOT_CATEGORIES
#    - Config file: data/raw/root_categories.json (JSON array of URLs)
# 5. See docs/01-PARAMETERS/ for detailed parameter documentation
